{% extends 'front/layout.html.twig' %}

{% block title %}Modifier article{{ parent() }}{% endblock %}

{% block main %}
    <main class="container-grass">
        <h1>Modifier un article</h1>
        {% if session.error_message %}
            <div class="error alert" role="alert">
                {{ session.error_message }}
            </div>
        {% endif %}
        {% if session.success_message %}
            <div class="success alert" role="alert">
                {{ session.success_message }}
            </div>
        {% endif %}
        <form method="POST" action="index.php?route=applyArticleModifs&id={{ article.id|e }}" class="article-admin-form">
            <input type="hidden" id="csrf_token" name="csrf_token" value="{{ session.csrf_token }}" />
            
            <div class="form-group">
                <label for="title">Titre</label>
                <input type="text" id="title" name="title" value="{{ article.title|e }}" required>
            </div>
            
            <div class="form-group">
                <label for="content">Contenu</label>
                <textarea id="content" name="content" rows="10" required>{{ article.content|e }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="publish_date">Date de publication</label>
                <input type="date" id="publish_date" name="publish_date" value="{{ article.publish_date|date('Y-m-d') }}" required>
            </div>
        
            <div class="form-group">
                <label for="level">Niveau</label>
                <select id="level" name="level" required>
                    <option value="1" {% if article.level == 1 %}selected{% endif %}>Débutant</option>
                    <option value="2" {% if article.level == 2 %}selected{% endif %}>Intermédiaire</option>
                    <option value="3" {% if article.level == 3 %}selected{% endif %}>Avancé</option>
                </select>
            </div>
        
            <div class="form-group">
                <label for="description">Description courte</label>
                <textarea id="description" name="description" rows="3" required>{{ article.description|e }}</textarea>
            </div>
        
            <button type="submit" class="bouton-submit">Appliquer les modifications</button>
        </form>

    </main>
{% endblock %}